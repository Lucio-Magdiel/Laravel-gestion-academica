import{c as J,r as z,j as s,L as G,a as K,H as Q}from"./app-DiX2iUY_.js";import{B as H}from"./badge-Biuh9D78.js";import{B as C}from"./app-logo-icon-DykWE0b1.js";import{c as U,C as V,a as W,b as X,d as Y}from"./card-Bm9OpUZc.js";import{T as Z,a as ee,b as q,c as b,d as se,e as N}from"./table-DDQs5VOm.js";import{B as te,A as le}from"./app-layout-Hkk09ObM.js";import{D as ae,a as re,b as ie,c as ne,d as ce,e as oe}from"./dialog-ChbkgC_F.js";import{C as de}from"./clock-M84E-sI-.js";import{P as me,T as xe,a as he,b as fe}from"./triangle-alert-Dswzo-Pw.js";/* empty css            */import"./index-Bh8Vh193.js";import"./index-jZxJnykt.js";import"./index-BCjkl18T.js";const je=[{title:"Dashboard",href:"/dashboard"},{title:"Módulos",href:"/modulos"}];function Me(i){const e=J.c(43),{modulos:r}=i,[v,L]=z.useState(null),[A,D]=z.useState(!1);let y;e[0]===Symbol.for("react.memo_cache_sentinel")?(y=_=>{L(_),D(!0)},e[0]=y):y=e[0];const F=y;let T;e[1]!==v?(T=()=>{v&&K.delete(`/modulos/${v.id}`,{onSuccess:()=>{D(!1),L(null)}})},e[1]=v,e[2]=T):T=e[2];const O=T;let n,c,o,d,t,m,l;if(e[3]!==r){const _=r.reduce(ue,{});n=le,m=je,e[11]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx(Q,{title:"Gestión de Módulos"}),e[11]=l):l=e[11],d="flex h-full flex-1 flex-col gap-6 p-6";let B;e[12]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Módulos Académicos"}),s.jsx("p",{className:"text-muted-foreground",children:"Gestión del plan de estudios por semestre"})]}),e[12]=B):B=e[12],e[13]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsxs("div",{className:"flex items-center justify-between",children:[B,s.jsx(G,{href:"/modulos/create",children:s.jsxs(C,{className:"gap-2",children:[s.jsx(he,{className:"h-4 w-4"}),"Nuevo Módulo"]})})]}),e[13]=t):t=e[13],c="grid gap-6",o=Object.keys(_).sort().map($=>{const I=_[Number($)],R=I[0]?.semestre;return s.jsxs(U,{children:[s.jsxs(V,{children:[s.jsxs(W,{className:"flex items-center justify-between",children:[s.jsx("span",{children:R?.nombre||`Semestre ${$}`}),s.jsxs(H,{variant:"outline",className:"ml-2",children:[I.length," módulos"]})]}),s.jsxs(X,{children:["Ciclo ",R?.ciclo]})]}),s.jsx(Y,{children:s.jsxs(Z,{children:[s.jsx(ee,{children:s.jsxs(q,{children:[s.jsx(b,{className:"w-[100px]",children:"Código"}),s.jsx(b,{children:"Nombre del Módulo"}),s.jsx(b,{className:"w-[200px] text-center",children:"Créditos"}),s.jsx(b,{className:"w-[200px] text-center",children:"Horas/Semana"}),s.jsx(b,{className:"w-[200px] text-center",children:"Estado"}),s.jsx(b,{className:"w-[100px] text-right",children:"Acciones"})]})}),s.jsx(se,{children:I.map(a=>s.jsxs(q,{children:[s.jsx(N,{className:"font-mono font-medium",children:a.codigo}),s.jsx(N,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(te,{className:"h-4 w-4 text-muted-foreground"}),a.nombre]})}),s.jsx(N,{className:"text-center",children:s.jsxs(H,{variant:"secondary",children:[a.creditos," créditos"]})}),s.jsx(N,{className:"text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-1 text-sm text-muted-foreground",children:[s.jsx(de,{className:"h-3 w-3"}),a.horas_semanales,"h"]})}),s.jsx(N,{className:"text-center",children:a.activo?s.jsx(H,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Activo"}):s.jsx(H,{variant:"outline",className:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",children:"Inactivo"})}),s.jsx(N,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(G,{href:`/modulos/${a.id}/edit`,children:s.jsx(C,{variant:"outline",size:"sm",children:s.jsx(me,{className:"h-4 w-4"})})}),s.jsx(C,{variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50 hover:text-red-700",onClick:()=>F(a),children:s.jsx(xe,{className:"h-4 w-4"})})]})})]},a.id))})]})})]},$)}),e[3]=r,e[4]=n,e[5]=c,e[6]=o,e[7]=d,e[8]=t,e[9]=m,e[10]=l}else n=e[4],c=e[5],o=e[6],d=e[7],t=e[8],m=e[9],l=e[10];let x;e[14]!==c||e[15]!==o?(x=s.jsx("div",{className:c,children:o}),e[14]=c,e[15]=o,e[16]=x):x=e[16];let w;e[17]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsxs(ae,{className:"flex items-center gap-2 text-red-600",children:[s.jsx(fe,{className:"h-5 w-5"}),"Confirmar Eliminación"]}),e[17]=w):w=e[17];const P=v?.nombre;let h;e[18]!==P?(h=s.jsx("span",{className:"font-bold text-foreground",children:P}),e[18]=P,e[19]=h):h=e[19];let S,k;e[20]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx("br",{}),k=s.jsx("br",{}),e[20]=S,e[21]=k):(S=e[20],k=e[21]);let f;e[22]!==h?(f=s.jsxs(re,{children:[w,s.jsxs(ie,{className:"pt-2",children:["¿Estás seguro de que deseas eliminar el módulo ",h,"?",S,k,"Esta acción eliminará permanentemente el módulo. Esta acción no se puede deshacer."]})]}),e[22]=h,e[23]=f):f=e[23];let E;e[24]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(C,{variant:"outline",onClick:()=>D(!1),children:"Cancelar"}),e[24]=E):E=e[24];let j;e[25]!==O?(j=s.jsxs(ne,{className:"gap-2 sm:gap-0",children:[E,s.jsx(C,{variant:"destructive",onClick:O,children:"Eliminar Módulo"})]}),e[25]=O,e[26]=j):j=e[26];let u;e[27]!==f||e[28]!==j?(u=s.jsxs(ce,{children:[f,j]}),e[27]=f,e[28]=j,e[29]=u):u=e[29];let p;e[30]!==A||e[31]!==u?(p=s.jsx(oe,{open:A,onOpenChange:D,children:u}),e[30]=A,e[31]=u,e[32]=p):p=e[32];let g;e[33]!==p||e[34]!==d||e[35]!==t||e[36]!==x?(g=s.jsxs("div",{className:d,children:[t,x,p]}),e[33]=p,e[34]=d,e[35]=t,e[36]=x,e[37]=g):g=e[37];let M;return e[38]!==n||e[39]!==g||e[40]!==m||e[41]!==l?(M=s.jsxs(n,{breadcrumbs:m,children:[l,g]}),e[38]=n,e[39]=g,e[40]=m,e[41]=l,e[42]=M):M=e[42],M}function ue(i,e){const r=e.semestre?.numero||0;return i[r]||(i[r]=[]),i[r].push(e),i}export{Me as default};
