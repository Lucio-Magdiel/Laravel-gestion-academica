import{r as h,j as e,c as D,u as re,H as ae}from"./app-DiX2iUY_.js";import{B as L}from"./badge-Biuh9D78.js";import{a as ie,u as M,c as F,B as I}from"./app-logo-icon-DykWE0b1.js";import{c as N,C as g,a as _,b as A,d as y}from"./card-Bm9OpUZc.js";import{u as te,c as B,a as G,d as oe,P as ne}from"./index-Bh8Vh193.js";import{P}from"./index-jZxJnykt.js";import{c as V,a as ce,R as de,b as le,A as me,C as ue,U as pe}from"./app-layout-Hkk09ObM.js";import{u as xe}from"./index-CiKLv27E.js";import{C as fe}from"./circle-alert-C4RUuJQE.js";import{G as he}from"./graduation-cap-DCpVU9PH.js";import{C as je}from"./clock-M84E-sI-.js";import{A as ve}from"./arrow-left-CV59CO0G.js";/* empty css            */import"./index-BCjkl18T.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ne=ie("Circle",be);var $="Radio",[ge,q]=B($),[_e,ye]=ge($),O=h.forwardRef((d,s)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:t,disabled:c,value:l="on",onCheck:o,form:p,...j}=d,[x,m]=h.useState(null),u=M(s,b=>m(b)),f=h.useRef(!1),v=x?p||!!x.closest("form"):!0;return e.jsxs(_e,{scope:r,checked:i,disabled:c,children:[e.jsx(P.button,{type:"button",role:"radio","aria-checked":i,"data-state":H(i),"data-disabled":c?"":void 0,disabled:c,value:l,...j,ref:u,onClick:G(d.onClick,b=>{i||o?.(),v&&(f.current=b.isPropagationStopped(),f.current||b.stopPropagation())})}),v&&e.jsx(z,{control:x,bubbles:!f.current,name:n,value:l,checked:i,required:t,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});O.displayName=$;var T="RadioIndicator",U=h.forwardRef((d,s)=>{const{__scopeRadio:r,forceMount:n,...i}=d,t=ye(T,r);return e.jsx(ne,{present:n||t.checked,children:e.jsx(P.span,{"data-state":H(t.checked),"data-disabled":t.disabled?"":void 0,...i,ref:s})})});U.displayName=T;var Re="RadioBubbleInput",z=h.forwardRef(({__scopeRadio:d,control:s,checked:r,bubbles:n=!0,...i},t)=>{const c=h.useRef(null),l=M(c,t),o=xe(r),p=oe(s);return h.useEffect(()=>{const j=c.current;if(!j)return;const x=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(x,"checked").set;if(o!==r&&u){const f=new Event("click",{bubbles:n});u.call(j,r),j.dispatchEvent(f)}},[o,r,n]),e.jsx(P.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});z.displayName=Re;function H(d){return d?"checked":"unchecked"}var Ce=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],E="RadioGroup",[we,We]=B(E,[V,q]),K=V(),W=q(),[Se,ke]=we(E),X=h.forwardRef((d,s)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:t,required:c=!1,disabled:l=!1,orientation:o,dir:p,loop:j=!0,onValueChange:x,...m}=d,u=K(r),f=ce(p),[v,b]=te({prop:t,defaultProp:i??null,onChange:x,caller:E});return e.jsx(Se,{scope:r,name:n,required:c,disabled:l,value:v,onValueChange:b,children:e.jsx(de,{asChild:!0,...u,orientation:o,dir:f,loop:j,children:e.jsx(P.div,{role:"radiogroup","aria-required":c,"aria-orientation":o,"data-disabled":l?"":void 0,dir:f,...m,ref:s})})})});X.displayName=E;var Y="RadioGroupItem",J=h.forwardRef((d,s)=>{const{__scopeRadioGroup:r,disabled:n,...i}=d,t=ke(Y,r),c=t.disabled||n,l=K(r),o=W(r),p=h.useRef(null),j=M(s,p),x=t.value===i.value,m=h.useRef(!1);return h.useEffect(()=>{const u=v=>{Ce.includes(v.key)&&(m.current=!0)},f=()=>m.current=!1;return document.addEventListener("keydown",u),document.addEventListener("keyup",f),()=>{document.removeEventListener("keydown",u),document.removeEventListener("keyup",f)}},[]),e.jsx(le,{asChild:!0,...l,focusable:!c,active:x,children:e.jsx(O,{disabled:c,required:t.required,checked:x,...o,...i,name:t.name,ref:j,onCheck:()=>t.onValueChange(i.value),onKeyDown:G(u=>{u.key==="Enter"&&u.preventDefault()}),onFocus:G(i.onFocus,()=>{m.current&&p.current?.click()})})})});J.displayName=Y;var Pe="RadioGroupIndicator",Q=h.forwardRef((d,s)=>{const{__scopeRadioGroup:r,...n}=d,i=W(r);return e.jsx(U,{...i,...n,ref:s})});Q.displayName=Pe;var Z=X,ee=J,Ee=Q;const S=h.forwardRef((d,s)=>{const r=D.c(9);let n,i;r[0]!==d?({className:n,...i}=d,r[0]=d,r[1]=n,r[2]=i):(n=r[1],i=r[2]);let t;r[3]!==n?(t=F("grid gap-2",n),r[3]=n,r[4]=t):t=r[4];let c;return r[5]!==i||r[6]!==s||r[7]!==t?(c=e.jsx(Z,{className:t,...i,ref:s}),r[5]=i,r[6]=s,r[7]=t,r[8]=c):c=r[8],c});S.displayName=Z.displayName;const k=h.forwardRef((d,s)=>{const r=D.c(10);let n,i;r[0]!==d?({className:n,...i}=d,r[0]=d,r[1]=n,r[2]=i):(n=r[1],i=r[2]);let t;r[3]!==n?(t=F("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),r[3]=n,r[4]=t):t=r[4];let c;r[5]===Symbol.for("react.memo_cache_sentinel")?(c=e.jsx(Ee,{className:"flex items-center justify-center",children:e.jsx(Ne,{className:"h-2.5 w-2.5 fill-current text-current"})}),r[5]=c):c=r[5];let l;return r[6]!==i||r[7]!==s||r[8]!==t?(l=e.jsx(ee,{ref:s,className:t,...i,children:c}),r[6]=i,r[7]=s,r[8]=t,r[9]=l):l=r[9],l});k.displayName=ee.displayName;const Ie=[{title:"Dashboard",href:"/dashboard"},{title:"Nueva Matrícula",href:"/mi-matricula/crear"}];function Xe(d){const s=D.c(22),{semestres:r,secciones:n,turnos:i,periodo_activo:t}=d,c=t?.id||0;let l;s[0]!==c?(l={periodo_academico_id:c,semestre_id:0,seccion_id:0,turno_id:0},s[0]=c,s[1]=l):l=s[1];const{data:o,setData:p,post:j,processing:x,errors:m}=re(l);let u;if(s[2]!==o||s[3]!==r){let a;s[5]!==o?(a=se=>se.id===o.semestre_id,s[5]=o,s[6]=a):a=s[6],u=r.find(a),s[2]=o,s[3]=r,s[4]=u}else u=s[4];const f=u;let v;s[7]!==j?(v=a=>{a.preventDefault(),j("/mi-matricula")},s[7]=j,s[8]=v):v=s[8];const b=v;let R;s[9]===Symbol.for("react.memo_cache_sentinel")?(R=e.jsx(ae,{title:"Nueva Matrícula"}),s[9]=R):R=s[9];let C;s[10]===Symbol.for("react.memo_cache_sentinel")?(C=e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(I,{variant:"outline",size:"icon",onClick:Ge,children:e.jsx(ve,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Realizar Matrícula"}),e.jsx("p",{className:"text-muted-foreground",children:"Complete el proceso de matrícula académica"})]})]}),s[10]=C):C=s[10];let w;return s[11]!==o||s[12]!==m||s[13]!==b||s[14]!==t||s[15]!==x||s[16]!==n||s[17]!==f?.nombre||s[18]!==r||s[19]!==p||s[20]!==i?(w=e.jsxs(me,{breadcrumbs:Ie,children:[R,e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[C,t?e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs(N,{children:[e.jsx(g,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-5 w-5"}),"Período Académico"]})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"rounded-lg border bg-muted/50 p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:t.nombre}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(t.fecha_inicio).toLocaleDateString("es-PE")," - ",new Date(t.fecha_fin).toLocaleDateString("es-PE")]})]}),e.jsx(L,{className:"bg-green-100 text-green-800",children:"Activo"})]})}),m.periodo_academico_id&&e.jsx("p",{className:"text-sm text-red-600",children:m.periodo_academico_id})]})})]}),e.jsxs(N,{children:[e.jsxs(g,{children:[e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5"}),"Seleccione su Semestre"]}),e.jsx(A,{children:"Elija el semestre al que desea matricularse"})]}),e.jsxs(y,{children:[e.jsx(S,{value:o.semestre_id>0?o.semestre_id.toString():"",onValueChange:a=>p("semestre_id",parseInt(a)),className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(a=>e.jsx("label",{htmlFor:`semestre-${a.id}`,className:"cursor-pointer",children:e.jsx(N,{className:`transition-all hover:border-primary ${o.semestre_id===a.id?"border-primary ring-2 ring-primary":""}`,children:e.jsxs(y,{className:"flex items-start gap-3 p-4",children:[e.jsx(k,{value:a.id.toString(),id:`semestre-${a.id}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold",children:a.nombre}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.descripcion}),e.jsxs(L,{variant:"outline",className:"mt-2",children:["Semestre ",a.numero]})]})]})})},a.id))}),m.semestre_id&&e.jsx("p",{className:"text-sm text-red-600 mt-2",children:m.semestre_id})]})]}),o.semestre_id>0&&e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(N,{children:[e.jsx(g,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-5 w-5"}),"Turno"]})}),e.jsxs(y,{children:[e.jsx(S,{value:o.turno_id>0?o.turno_id.toString():"",onValueChange:a=>p("turno_id",parseInt(a)),className:"space-y-3",children:i.map(a=>e.jsx("label",{htmlFor:`turno-${a.id}`,className:"cursor-pointer",children:e.jsxs("div",{className:`flex items-start gap-3 rounded-lg border p-4 transition-all hover:border-primary ${o.turno_id===a.id?"border-primary ring-2 ring-primary bg-primary/5":""}`,children:[e.jsx(k,{value:a.id.toString(),id:`turno-${a.id}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:a.nombre}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.hora_inicio," - ",a.hora_fin]})]})]})},a.id))}),m.turno_id&&e.jsx("p",{className:"text-sm text-red-600 mt-2",children:m.turno_id})]})]}),e.jsxs(N,{children:[e.jsx(g,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-5 w-5"}),"Sección"]})}),e.jsxs(y,{children:[e.jsx(S,{value:o.seccion_id>0?o.seccion_id.toString():"",onValueChange:a=>p("seccion_id",parseInt(a)),className:"space-y-3",children:n.map(a=>e.jsx("label",{htmlFor:`seccion-${a.id}`,className:"cursor-pointer",children:e.jsxs("div",{className:`flex items-start gap-3 rounded-lg border p-4 transition-all hover:border-primary ${o.seccion_id===a.id?"border-primary ring-2 ring-primary bg-primary/5":""}`,children:[e.jsx(k,{value:a.id.toString(),id:`seccion-${a.id}`}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold",children:["Sección ",a.nombre]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.descripcion||"Capacidad: estudiantes"})]})]})},a.id))}),m.seccion_id&&e.jsx("p",{className:"text-sm text-red-600 mt-2",children:m.seccion_id})]})]})]}),o.semestre_id>0&&o.turno_id>0&&o.seccion_id>0&&e.jsxs(N,{className:"border-primary",children:[e.jsxs(g,{children:[e.jsx(_,{children:"Resumen de Matrícula"}),e.jsx(A,{children:"Verifique los datos antes de confirmar"})]}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Período:"}),e.jsx("span",{className:"font-semibold",children:t.nombre})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Semestre:"}),e.jsx("span",{className:"font-semibold",children:f?.nombre})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Turno:"}),e.jsx("span",{className:"font-semibold",children:i.find(a=>a.id===o.turno_id)?.nombre})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Sección:"}),e.jsxs("span",{className:"font-semibold",children:["Sección ",n.find(a=>a.id===o.seccion_id)?.nombre]})]})]}),e.jsx("div",{className:"rounded-lg bg-blue-50 p-4 dark:bg-blue-950",children:e.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:[e.jsx("strong",{children:"Importante:"})," Después de confirmar la matrícula, deberá proceder con el pago para completar el proceso."]})}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(I,{type:"button",variant:"outline",onClick:Ae,children:"Cancelar"}),e.jsx(I,{type:"submit",disabled:x,children:x?"Procesando...":"Confirmar Matrícula"})]})]})]})]}):e.jsx(N,{className:"border-yellow-500",children:e.jsxs(g,{children:[e.jsxs(_,{className:"flex items-center gap-2 text-yellow-700",children:[e.jsx(fe,{className:"h-5 w-5"}),"No hay período académico activo"]}),e.jsx(A,{children:"Actualmente no hay ningún período académico activo para realizar matrículas. Por favor, contacte con administración."})]})})]})]}),s[11]=o,s[12]=m,s[13]=b,s[14]=t,s[15]=x,s[16]=n,s[17]=f?.nombre,s[18]=r,s[19]=p,s[20]=i,s[21]=w):w=s[21],w}function Ae(){return window.history.back()}function Ge(){return window.history.back()}export{Xe as default};
