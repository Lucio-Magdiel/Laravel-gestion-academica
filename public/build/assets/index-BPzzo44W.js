import{c as G,r as F,j as s,L as z,a as q,H as U}from"./app-DiX2iUY_.js";import{B as I}from"./badge-Biuh9D78.js";import{B as g}from"./app-logo-icon-DykWE0b1.js";import{C as J,b as K,a as M,d as Q,c as V}from"./card-Bm9OpUZc.js";import{b as L,e as l,a as W,c as f,T as X,d as Y}from"./table-DDQs5VOm.js";import{A as Z}from"./app-layout-Hkk09ObM.js";import{D as ee,a as se,b as te,c as ae,d as le,e as re}from"./dialog-ChbkgC_F.js";import{P as ie,T as ce,a as oe,b as ne}from"./triangle-alert-Dswzo-Pw.js";/* empty css            */import"./index-Bh8Vh193.js";import"./index-jZxJnykt.js";import"./index-BCjkl18T.js";const de=[{title:"Dashboard",href:"/dashboard"},{title:"Períodos Académicos",href:"/periodos-academicos"}],O={borrador:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",activo:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",finalizado:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"};function Se(R){const e=G.c(37),{periodos:a}=R,[j,B]=F.useState(null),[A,p]=F.useState(!1);let b;e[0]===Symbol.for("react.memo_cache_sentinel")?(b=t=>{B(t),p(!0)},e[0]=b):b=e[0];const $=b;let u;e[1]!==j?(u=()=>{j&&q.delete(`/periodos-academicos/${j.id}`,{onSuccess:()=>{p(!1),B(null)}})},e[1]=j,e[2]=u):u=e[2];const w=u;let N;e[3]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx(U,{title:"Gestión de Períodos Académicos"}),e[3]=N):N=e[3];let D;e[4]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Períodos Académicos"}),s.jsx("p",{className:"text-muted-foreground",children:"Gestión de períodos y ciclos académicos"})]}),e[4]=D):D=e[4];let y;e[5]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsxs("div",{className:"flex items-center justify-between",children:[D,s.jsx(z,{href:"/periodos-academicos/create",children:s.jsxs(g,{className:"gap-2",children:[s.jsx(oe,{className:"h-4 w-4"}),"Nuevo Período"]})})]}),e[5]=y):y=e[5];let S;e[6]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx(M,{children:"Lista de Períodos"}),e[6]=S):S=e[6];let r;e[7]!==a.length?(r=s.jsxs(J,{children:[S,s.jsxs(K,{children:["Total: ",a.length," períodos registrados"]})]}),e[7]=a.length,e[8]=r):r=e[8];let C;e[9]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(W,{children:s.jsxs(L,{children:[s.jsx(f,{children:"Período"}),s.jsx(f,{children:"Año/Semestre"}),s.jsx(f,{children:"Fecha Inicio"}),s.jsx(f,{children:"Fecha Fin"}),s.jsx(f,{children:"Estado"}),s.jsx(f,{className:"text-right",children:"Acciones"})]})}),e[9]=C):C=e[9];let i;e[10]!==a?(i=a.length===0?s.jsx(L,{children:s.jsx(l,{colSpan:6,className:"text-center text-muted-foreground",children:"No hay períodos académicos registrados"})}):a.map(t=>s.jsxs(L,{children:[s.jsx(l,{className:"font-medium",children:s.jsxs("div",{children:[s.jsx("p",{children:t.nombre}),t.descripcion&&s.jsx("p",{className:"text-sm text-muted-foreground",children:t.descripcion})]})}),s.jsx(l,{children:s.jsxs(I,{variant:"outline",children:[t.anio," - Semestre ",t.semestre]})}),s.jsx(l,{children:new Date(t.fecha_inicio).toLocaleDateString("es-PE")}),s.jsx(l,{children:new Date(t.fecha_fin).toLocaleDateString("es-PE")}),s.jsx(l,{children:s.jsx(I,{className:O[t.estado]||O.borrador,children:t.estado.charAt(0).toUpperCase()+t.estado.slice(1)})}),s.jsx(l,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(z,{href:`/periodos-academicos/${t.id}/edit`,children:s.jsx(g,{variant:"outline",size:"sm",children:s.jsx(ie,{className:"h-4 w-4"})})}),s.jsx(g,{variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50 hover:text-red-700",onClick:()=>$(t),children:s.jsx(ce,{className:"h-4 w-4"})})]})})]},t.id)),e[10]=a,e[11]=i):i=e[11];let c;e[12]!==i?(c=s.jsx(Q,{children:s.jsxs(X,{children:[C,s.jsx(Y,{children:i})]})}),e[12]=i,e[13]=c):c=e[13];let o;e[14]!==c||e[15]!==r?(o=s.jsxs(V,{children:[r,c]}),e[14]=c,e[15]=r,e[16]=o):o=e[16];let v;e[17]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsxs(ee,{className:"flex items-center gap-2 text-red-600",children:[s.jsx(ne,{className:"h-5 w-5"}),"Confirmar Eliminación"]}),e[17]=v):v=e[17];let P;e[18]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx("br",{}),e[18]=P):P=e[18];const H=j?.nombre;let n;e[19]!==H?(n=s.jsx("span",{className:"font-bold text-foreground",children:H}),e[19]=H,e[20]=n):n=e[20];let T,_;e[21]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx("br",{}),_=s.jsx("br",{}),e[21]=T,e[22]=_):(T=e[21],_=e[22]);let d;e[23]!==n?(d=s.jsxs(se,{children:[v,s.jsxs(te,{className:"pt-2",children:["¿Estás seguro de que deseas eliminar este período académico?",P,"Período: ",n,T,_,"Esta acción no se puede deshacer."]})]}),e[23]=n,e[24]=d):d=e[24];let k;e[25]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(g,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),e[25]=k):k=e[25];let m;e[26]!==w?(m=s.jsxs(ae,{className:"gap-2 sm:gap-0",children:[k,s.jsx(g,{variant:"destructive",onClick:w,children:"Eliminar Período"})]}),e[26]=w,e[27]=m):m=e[27];let h;e[28]!==d||e[29]!==m?(h=s.jsxs(le,{children:[d,m]}),e[28]=d,e[29]=m,e[30]=h):h=e[30];let x;e[31]!==A||e[32]!==h?(x=s.jsx(re,{open:A,onOpenChange:p,children:h}),e[31]=A,e[32]=h,e[33]=x):x=e[33];let E;return e[34]!==o||e[35]!==x?(E=s.jsxs(Z,{breadcrumbs:de,children:[N,s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[y,o,x]})]}),e[34]=o,e[35]=x,e[36]=E):E=e[36],E}export{Se as default};
